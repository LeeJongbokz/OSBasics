

### 메모리 관리의 복잡성 

- CPU는 메모리에 있는 내용을 가져오거나 작업 결과를 메모리에 저장하기 위해 메모리 주소 레지스터(MAR)를 사용함  
  메모리 주소 레지스터에 필요한 메모리 주소를 넣으면  
  데이터를 메모리에서 가져오거나 메모리에 데이터를 옮길 수 있음  
  
- 폰노이만 구조의 컴퓨터에서 메모리는 유일한 작업 공간이며 모든 프로그램은 메모리에 올라와야 실행이 가능함  
  과거의 일괄 처리 시스템에서는 한 번에 한 가지 작업만 처리했기 때문에 메모리 관리가 어렵지 않았음  
  그러나 오늘날의 시분할 시스템에서는 운영체제를 포함한 모든 응용 프로그램이 메모리에 올라와 실행되기 때문에  
  메모리 관리가 복잡함  
  
- 이는 도마 하나의 구역을 나누어 여러 재료를 올려놓고 요리하는 것에 비유할 수 있음  
  여러 재료가 섞이지 않게 하면서 충분한 작업 공간을 확보하는 것은 간단한 문제가 아님  
  
- 운영체제도 프로그램이므로 메모리에 올라와야 실행할 수 있음  
  따라서 메모리에는 사용자 프로세스뿐 아니라 운영체제 프로세스도 공존함  
  컴퓨터의 전원 버튼을 누르면 사용자가 컴퓨터를 사용할 수 있는 환경을 마련하는 과정,  
  즉 부팅이 이루어지는데,  
  이 때 하드디스크에 저장된 운영체제가 메모리에 올라감  
  부팅이 끝나면 여러 응용 프로그램이 메모리에서 작업을 할 수 있음  
  
  
- 이 장에서 살펴볼 메모리 관리는 운영체제를 비롯해 여러 작업을 동시에 처리할 때  
  메모리를 어떻게 관리하는가에 관한 문제임  
  이처럼 복잡한 메모리 관리는 메모리 관리 시스템이 담당함  
  

### 메모리 관리의 이중성  

- 스테이크를 만들기 위해 고기와 채소를 손질하는 상황을 생각해 봄  
  [그림 7-3]의 (a)와 같이 도마에 고기만 올려놓으면 편하게 손질할 수 있지만,  
  한 가지 재료가 도마를 독차지하는 것은 비효율적임  
  (b)는 도마에 여러 재료를 올려놓아도 서로 섞이지 않도록 칸막이를 한 것으로,  
  칸막이를 옮겨서 어떤 공간을 더 크게 할 수도 있음  
  

- [그림 7-3]의 도마는 메모리, 재료는 프로세스에 해당함  
  메모리 관리의 이중성이란 프로세스 입장에서는 메모리를 독차지하려 하고,  
  메모리 관리자 입장에서는 되도록 관리를 효율적으로 하고 싶어 하는 것을 말함  
  
- [그림 7-3]의 (b)와 같은 메모리 공간 관리는 매우 복잡함  
  프로세스가 작업하는 도중에 할당된 공간이 부족하면 메모리 관리자는 새로운 공간을 확보하기 위해  
  옆의 프로세스를 밀어내거나 더 큰 공간으로 해당 프로세스를 옮겨줌  
  작업을 마치고 난 후 빈 공간이 생기면 합쳐서 하나의 큰 공간을 만듦  
  이렇게 하기 위해 현재 작업 중인 공간을 옆으로 밀고 작은 공간을 합쳐나감  
  이처럼 매번 작업 공간을 키웠다 줄였다 하는 것은 매우 복잡한 일임  
  
- 메모리 관리의 이중성은 프로세스 입장에서 작업의 편리함과  
  관리자 입장에서 관리의 편리함이 충돌을 일으키는 것을 말함  
  현대의 메모리 관리 시스템은 프로세스와 메모리 관리자의 상충되는 요구 사항을 완벽하게 처리함
  물론 이러한 요구 사항을 만족시키기 위해 메모리 관리자의 작업은 더욱 복잡해짐  
  운영체제가 어떻게 작업의 편리함과 관리의 편리함을 타협해나가는지  
  이 장 전체에 걸쳐 살펴봄  
  

  
  
  
  
  
  
  
  
  

  
